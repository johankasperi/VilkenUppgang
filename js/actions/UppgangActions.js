const AppDispatcher = require('../dispatchers/AppDispatcher');
const _ = requite('underscore');

var stations = [{"stationName":"Abrahamsberg","stationCentLon":59.336606,"stationCentLat":17.952823,"stationID":"9110","stationExits":[{"exitName":"Abrahemsberg","exitLon":"59.336434","exitLat":"17.952626"}]},{"stationName":"Akalla","stationCentLon":59.414673,"stationCentLat":17.915981,"stationID":"9300","stationExits":[{"exitName":"Akalla torg","exitLon":"59.415441","exitLat":"17.913369"},{"exitName":"Sibeliusg&aring;ngen/Nystadsgatan","exitLon":"59.413863","exitLat":"17.917736"}]},{"stationName":"Alby","stationCentLon":59.239466,"stationCentLat":17.845513,"stationID":"9282","stationExits":[{"exitName":"Alby Centrum","exitLon":"59.238789","exitLat":"17.84479"},{"exitName":"Albyberget","exitLon":"59.239969","exitLat":"17.846164"}]},{"stationName":"Aspudden","stationCentLon":59.306378,"stationCentLat":18.001124,"stationID":"9293","stationExits":[{"exitName":"Aspudden","exitLon":"59.30642","exitLat":"18.001142"}]},{"stationName":"Bagarmossen","stationCentLon":59.276342,"stationCentLat":18.131544,"stationID":"9141","stationExits":[{"exitName":"Bagarmossen","exitLon":"59.27628","exitLat":"18.131207"}]},{"stationName":"Bandhagen","stationCentLon":59.270093,"stationCentLat":18.049576,"stationID":"9163","stationExits":[{"exitName":"Bandhagen","exitLon":"59.269949","exitLat":"18.049346"}]},{"stationName":"Bergshamra","stationCentLon":59.380548,"stationCentLat":18.037754,"stationID":"9202","stationExits":[{"exitName":"Bergshamra centrum","exitLon":"59.38155","exitLat":"18.0363"},{"exitName":"Gamla vÃ¤gen","exitLon":"59.379409","exitLat":"18.038059"}]},{"stationName":"BjÃ¶rkhagen","stationCentLon":59.291544,"stationCentLat":18.116073,"stationID":"9143","stationExits":[{"exitName":"BjÃ¶rkhagen","exitLon":"59.291362","exitLat":"18.115672"}]},{"stationName":"Blackeberg","stationCentLon":59.348116,"stationCentLat":17.883987,"stationID":"9105","stationExits":[{"exitName":"Vinjettgatan (vid Direkten)","exitLon":"59.348204","exitLat":"17.883484"},{"exitName":"Vinjettgatan (vid 7-Eleven)","exitLon":"59.348142","exitLat":"17.883199"},{"exitName":"Blackebergs torg","exitLon":"59.347917","exitLat":"17.883672"}]},{"stationName":"BlÃ¥sut","stationCentLon":59.290174,"stationCentLat":18.091032,"stationID":"9187","stationExits":[{"exitName":"BlÃ¥sut","exitLon":"59.290101","exitLat":"18.09092"}]},{"stationName":"BredÃ¤ng","stationCentLon":59.294897,"stationCentLat":17.934219,"stationID":"9289","stationExits":[{"exitName":"BredÃ¤ngstorget","exitLon":"59.29478","exitLat":"17.934333"},{"exitName":"BredÃ¤ngshallen","exitLon":"59.294802","exitLat":"17.934086"}]},{"stationName":"Brommaplan","stationCentLon":59.338378,"stationCentLat":17.939026,"stationID":"9109","stationExits":[{"exitName":"Brommaplan","exitLon":"59.33835","exitLat":"17.9388"}]},{"stationName":"Danderyds Sjukhus","stationCentLon":59.391246,"stationCentLat":18.042281,"stationID":"9201","stationExits":[{"exitName":"Danderyds sjukhus","exitLon":"59.392298","exitLat":"18.040152"},{"exitName":"MÃ¶rbyskolan VendevÃ¤gen","exitLon":"59.392161","exitLat":"18.041686"},{"exitName":"MÃ¶rbylund Inverness","exitLon":"59.3899","exitLat":"18.042115"},{"exitName":"Bussterminal","exitLon":"59.390113","exitLat":"18.04293"}]},{"stationName":"Duvbo","stationCentLon":59.367999,"stationCentLat":17.965205,"stationID":"9324","stationExits":[{"exitName":"Duvbo","exitLon":"59.367822","exitLat":"17.964942"}]},{"stationName":"Enskede GÃ¥rd","stationCentLon":59.289868,"stationCentLat":18.070905,"stationID":"9167","stationExits":[{"exitName":"Enskede gÃ¥rd","exitLon":"59.28959","exitLat":"18.07026"}]},{"stationName":"Farsta","stationCentLon":59.243493,"stationCentLat":18.09365,"stationID":"9180","stationExits":[{"exitName":"Farsta centrum","exitLon":"59.243289","exitLat":"18.09312"},{"exitName":"Kroppaplan","exitLon":"59.24351","exitLat":"18.09341"}]},{"stationName":"Farsta Strand","stationCentLon":59.235778,"stationCentLat":18.101954,"stationID":"9180","stationExits":[{"exitName":"Farsta Strand","exitLon":"59.235601","exitLat":"18.101681"}]},{"stationName":"Fittja","stationCentLon":59.247959,"stationCentLat":17.861049,"stationID":"9283","stationExits":[{"exitName":"Fittja","exitLon":"59.247859","exitLat":"17.861162"}]},{"stationName":"Fridhemsplan","stationCentLon":59.333662,"stationCentLat":18.029192,"stationID":"9115","stationExits":[{"exitName":"St Eriksgatan 43T","exitLon":"59.334169","exitLat":"18.032146"},{"exitName":"St Eriksgatan 40A","exitLon":"59.334324","exitLat":"18.032580"},{"exitName":"St Eriksg./Fleming.","exitLon":"59.334399","exitLat":"18.032786"},{"exitName":"DrottningholmsvÃ¤gen","exitLon":"59.33221","exitLat":"18.02897"},{"exitName":"Fridhemsgatan","exitLon":"59.332436","exitLat":"18.028839"},{"exitName":"Mariebergsgatan","exitLon":"59.334953","exitLat":"18.025167"}]},{"stationName":"FruÃ¤ngen","stationCentLon":59.285672,"stationCentLat":17.965375,"stationID":"9260","stationExits":[{"exitName":"FruÃ¤ngsplan","exitLon":"59.28566","exitLat":"17.96499"},{"exitName":"FruÃ¤ngstorget","exitLon":"59.28586","exitLat":"17.96479"}]},{"stationName":"Gamla Stan","stationCentLon":59.323132,"stationCentLat":18.067322,"stationID":"9193","stationExits":[{"exitName":"Riddarholmen","exitLon":"59.322962","exitLat":"18.066605"},{"exitName":"Munkbroleden SÃ¶dermalm","exitLon":"59.323043","exitLat":"18.067613"},{"exitName":"Gamla Stan","exitLon":"59.323384","exitLat":"18.068162"}]},{"stationName":"Globen","stationCentLon":59.294163,"stationCentLat":18.076591,"stationID":"9168","stationExits":[{"exitName":"SlakthusomrÃ¥det","exitLon":"59.293685","exitLat":"18.074859"},{"exitName":"GlobenomrÃ¥det","exitLon":"59.294479","exitLat":"18.07825"}]},{"stationName":"GubbÃ¤ngen","stationCentLon":59.263119,"stationCentLat":18.08423,"stationID":"9183","stationExits":[{"exitName":"HerrhagsvÃ¤gen","exitLon":"59.264159","exitLat":"18.082069"},{"exitName":"GubbÃ¤ngstorget","exitLon":"59.262174","exitLat":"18.082455"}]},{"stationName":"Gullmarsplan","stationCentLon":59.299071,"stationCentLat":18.080883,"stationID":"9189","stationExits":[{"exitName":"JohanneshovsvÃ¤gen","exitLon":"59.299113","exitLat":"18.080896"},{"exitName":"GÃ¥ng mot Globen","exitLon":"59.298941","exitLat":"18.081330"},{"exitName":"Mot torget","exitLon":"59.299033","exitLat":"18.080483"}]},{"stationName":"GÃ¤rdet","stationCentLon":59.34662,"stationCentLat":18.100701,"stationID":"9221","stationExits":[{"exitName":"Hiss till Brantingsg.","exitLon":"59.34495","exitLat":"18.09834"},{"exitName":"Brantingsg./Askrikeg.","exitLon":"59.34468","exitLat":"18.09847"},{"exitName":"VÃ¤rtavÃ¤./Sandhamnsg.","exitLon":"59.34781","exitLat":"18.10143"},{"exitName":"Hiss till Furusundsg.","exitLon":"59.347","exitLat":"18.09942"}]},{"stationName":"HagsÃ¤tra","stationCentLon":59.262362,"stationCentLat":18.013892,"stationID":"9160","stationExits":[{"exitName":"HagsÃ¤tra","exitLon":"59.262289","exitLat":"18.013372"}]},{"stationName":"Hallonbergen","stationCentLon":59.375651,"stationCentLat":17.969582,"stationID":"9303","stationExits":[{"exitName":"Hallonbergen","exitLon":"59.37541","exitLat":"17.96929"}]},{"stationName":"Hallunda","stationCentLon":59.243603,"stationCentLat":17.826116,"stationID":"9281","stationExits":[{"exitName":"Hallunda torg","exitLon":"59.24416","exitLat":"17.82604"},{"exitName":"Eriksberg","exitLon":"59.24265","exitLat":"17.82613"}]},{"stationName":"HammarbyhÃ¶jden","stationCentLon":59.294941,"stationCentLat":18.104272,"stationID":"9144","stationExits":[{"exitName":"UlricehamnsvÃ¤gen","exitLon":"59.29499","exitLat":"18.10648"},{"exitName":"Finn Malmgrens plan","exitLon":"59.2949","exitLat":"18.10197"}]},{"stationName":"Hjulsta","stationCentLon":59.396323,"stationCentLat":17.888383,"stationID":"9320","stationExits":[{"exitName":"Hjulsta","exitLon":"59.39618","exitLat":"17.888"}]},{"stationName":"Hornstull","stationCentLon":59.31607,"stationCentLat":18.0358,"stationID":"9295","stationExits":[{"exitName":"LÃ¥ngholmsgatan/HÃ¶galidsgatan","exitLon":"59.31625","exitLat":"18.034013"},{"exitName":"HÃ¶galidsparken","exitLon":"59.316575","exitLat":"18.038637"},{"exitName":"Hornstull, korsningen vid Apoteket","exitLon":"59.315744","exitLat":"18.034209"},{"exitName":"Bergsunds strand","exitLon":"59.315703","exitLat":"18.03345"}]},{"stationName":"Husby","stationCentLon":59.409181,"stationCentLat":17.92774,"stationID":"9301","stationExits":[{"exitName":"Bergengatan","exitLon":"59.408152","exitLat":"17.928786"},{"exitName":"Trondheimsgatan/Husby centrum","exitLon":"59.409998","exitLat":"17.925889"}]},{"stationName":"Huvudsta","stationCentLon":59.349812,"stationCentLat":17.987306,"stationID":"9327","stationExits":[{"exitName":"Bygatan","exitLon":"59.3496","exitLat":"17.98801"},{"exitName":"Huvudsta centrum","exitLon":"59.349821","exitLat":"17.985942"}]},{"stationName":"HÃ¤gerstensÃ¥sen","stationCentLon":59.295182,"stationCentLat":17.977693,"stationID":"9262","stationExits":[{"exitName":"PersonnevÃ¤gen","exitLon":"59.294287","exitLat":"17.976294"},{"exitName":"HÃ¤gerstensÃ¥sen","exitLon":"59.295558","exitLat":"17.979448"}]},{"stationName":"HÃ¤sselby GÃ¥rd","stationCentLon":59.366949,"stationCentLat":17.843733,"stationID":"9101","stationExits":[{"exitName":"HÃ¤sselby gÃ¥rd","exitLon":"59.36695","exitLat":"17.84337"}]},{"stationName":"HÃ¤sselby Strand","stationCentLon":59.360979,"stationCentLat":17.832403,"stationID":"9100","stationExits":[{"exitName":"HÃ¤sselby strand","exitLon":"59.361064","exitLat":"17.832141"}]},{"stationName":"HÃ¶gdalen","stationCentLon":59.263415,"stationCentLat":18.042881,"stationID":"9162","stationExits":[{"exitName":"HÃ¶gdalen","exitLon":"59.26336","exitLat":"18.0426"}]},{"stationName":"HÃ¶karÃ¤ngen","stationCentLon":59.257317,"stationCentLat":18.083393,"stationID":"9182","stationExits":[{"exitName":"Ã–rbyleden","exitLon":"59.25794","exitLat":"18.082724"},{"exitName":"RussinvÃ¤gen","exitLon":"59.256229","exitLat":"18.083754"}]},{"stationName":"HÃ¶torget","stationCentLon":59.335183,"stationCentLat":18.064511,"stationID":"7176","stationExits":[{"exitName":"Kungsg vid Telia","exitLon":"59.33575","exitLat":"18.06412"},{"exitName":"Sergelg/HÃ¶torget","exitLon":"59.334426","exitLat":"18.063744"},{"exitName":"Sveav/Malmskillnadsg","exitLon":"59.334393","exitLat":"18.064903"},{"exitName":"Malmskillnadsg","exitLon":"59.334557","exitLat":"18.065482"},{"exitName":"Kungsg/Sveav vid Adidas","exitLon":"59.335499","exitLat":"18.062972"},{"exitName":"HÃ¶torget/Konserthuset","exitLon":"59.335324","exitLat":"18.063154"},{"exitName":"Kungsg vid Cervera","exitLon":"59.335603","exitLat":"18.064334"},{"exitName":"Sveav/Tunnelg","exitLon":"59.336587","exitLat":"18.062854"},{"exitName":"Sveav/Olof Palmes gata","exitLon":"59.336341","exitLat":"18.062446"}]},{"stationName":"Islandstorget","stationCentLon":59.346092,"stationCentLat":17.893321,"stationID":"9106","stationExits":[{"exitName":"Islandstorget","exitLon":"59.346","exitLat":"17.89299"}]},{"stationName":"Johannelund","stationCentLon":59.368064,"stationCentLat":17.858517,"stationID":"9102","stationExits":[{"exitName":"Johannelund","exitLon":"59.368079","exitLat":"17.858158"}]},{"stationName":"Karlaplan","stationCentLon":59.339648,"stationCentLat":18.092277,"stationID":"9222","stationExits":[{"exitName":"Karlaplan NordvÃ¤st","exitLon":"59.338437","exitLat":"18.090255"},{"exitName":"Karlaplan NordÃ¶st","exitLon":"59.338349","exitLat":"18.090953"},{"exitName":"Valhallav./VÃ¤rtav.","exitLon":"59.340292","exitLat":"18.093849"},{"exitName":"Valhallav./Tessinparken","exitLon":"59.340729","exitLat":"18.093013"}]},{"stationName":"Kista","stationCentLon":59.402978,"stationCentLat":17.943554,"stationID":"9302","stationExits":[{"exitName":"Kista Galleria","exitLon":"59.402282","exitLat":"17.943689"},{"exitName":"Danmarksgatan","exitLon":"59.40206","exitLat":"17.94402"},{"exitName":"KÃ¶penhamnsgatan","exitLon":"59.40366","exitLat":"17.94216"}]},{"stationName":"Kristineberg","stationCentLon":59.332808,"stationCentLat":18.003335,"stationID":"9113","stationExits":[{"exitName":"Kristineberg","exitLon":"59.33289","exitLat":"18.00303"}]},{"stationName":"KungstrÃ¤dgÃ¥rden","stationCentLon":59.330433,"stationCentLat":18.071656,"stationID":"9340","stationExits":[{"exitName":"Arsenalsgatan","exitLon":"59.330678","exitLat":"18.073851"},{"exitName":"Jakobsgatan/Regeringsgatan","exitLon":"59.330021","exitLat":"18.068991"}]},{"stationName":"KÃ¤rrtorp","stationCentLon":59.283972,"stationCentLat":18.115258,"stationID":"9142","stationExits":[{"exitName":"KÃ¤rrtorp","exitLon":"59.28395","exitLat":"18.11473"}]},{"stationName":"Liljeholmen","stationCentLon":59.310441,"stationCentLat":18.022389,"stationID":"9294","stationExits":[{"exitName":"Liljeholmstorget (inomhus)","exitLon":"59.310073","exitLat":"18.022192"},{"exitName":"LiljeholmsvÃ¤gen/TvÃ¤rbana","exitLon":"59.310877","exitLat":"18.024251"},{"exitName":"Trekanten","exitLon":"59.31056","exitLat":"18.021601"},{"exitName":"Hissbana/Nybohov","exitLon":"59.308680","exitLat":"18.016616"},{"exitName":"Liljeholmstorget (utomhus)","exitLon":"59.310192","exitLat":"18.022118"},{"exitName":"LiljeholmsvÃ¤gen HÃ¶ger","exitLon":"59.310832","exitLat":"18.024180"},{"exitName":"Bussterminal","exitLon":"59.310102","exitLat":"18.022563"}]},{"stationName":"Mariatorget","stationCentLon":59.317176,"stationCentLat":18.060949,"stationID":"9297","stationExits":[{"exitName":"Torkel Knutssonsgatan","exitLon":"59.317251","exitLat":"18.057747"},{"exitName":"Mariatorget","exitLon":"59.316965","exitLat":"18.063292"}]},{"stationName":"Masmo","stationCentLon":59.249923,"stationCentLat":17.881906,"stationID":"9284","stationExits":[{"exitName":"Masmo","exitLon":"59.24979","exitLat":"17.881376"}]},{"stationName":"Medborgarplatsen","stationCentLon":59.314822,"stationCentLat":18.073437,"stationID":"1323","stationExits":[{"exitName":"Folkungagatan vid GÃ¶ta KÃ¤llare","exitLon":"59.314257","exitLat":"18.073019"},{"exitName":"BjÃ¶rns trÃ¤dgÃ¥rd","exitLon":"59.315369","exitLat":"18.073075"},{"exitName":"Folkungagatan","exitLon":"59.314297","exitLat":"18.073812"}]},{"stationName":"Midsommarkransen","stationCentLon":59.301985,"stationCentLat":18.011875,"stationID":"9264","stationExits":[{"exitName":"TegelbruksvÃ¤gen/SL Sporthall","exitLon":"59.302509","exitLat":"18.010701"},{"exitName":"SvandammsvÃ¤gen","exitLon":"59.30154","exitLat":"18.012471"}]},{"stationName":"MÃ¤larhÃ¶jden","stationCentLon":59.301065,"stationCentLat":17.957093,"stationID":"9290","stationExits":[{"exitName":"MÃ¤larhÃ¶jden","exitLon":"59.301058","exitLat":"17.957035"}]},{"stationName":"MÃ¶rby Centrum","stationCentLon":59.398379,"stationCentLat":18.03593,"stationID":"9200","stationExits":[{"exitName":"GolfvÃ¤gen","exitLon":"59.39826","exitLat":"18.03594"},{"exitName":"MÃ¶rbyplan","exitLon":"59.39843","exitLat":"18.03573"}]},{"stationName":"Norsborg","stationCentLon":59.243899,"stationCentLat":17.814443,"stationID":"9280","stationExits":[{"exitName":"Bussar","exitLon":"59.24395","exitLat":"17.81424"},{"exitName":"Norsborgs centrum","exitLon":"59.24431","exitLat":"17.81427"},{"exitName":"Eriksberg","exitLon":"59.24305","exitLat":"17.81436"}]},{"stationName":"NÃ¤ckrosen","stationCentLon":59.366763,"stationCentLat":17.983873,"stationID":"9304","stationExits":[{"exitName":"Skogsbacken","exitLon":"59.368445","exitLat":"17.97963"},{"exitName":"RÃ¥sunda Ã¶stra","exitLon":"59.3668","exitLat":"17.98431"},{"exitName":"Filmstaden","exitLon":"59.36637","exitLat":"17.98306"}]},{"stationName":"Odenplan","stationCentLon":59.343073,"stationCentLat":18.047731,"stationID":"9117","stationExits":[{"exitName":"Hiss pÃ¥ torget","exitLon":"59.34295","exitLat":"18.049593"},{"exitName":"Odenplan","exitLon":"59.342929","exitLat":"18.049947"},{"exitName":"KarlbergsvÃ¤gen","exitLon":"59.343142","exitLat":"18.049904"},{"exitName":"KarlbergsvÃ¤gen/VÃ¤stmannagatan","exitLon":"59.342983","exitLat":"18.045537"},{"exitName":"Hiss KarlbergsvÃ¤gen vid HemkÃ¶p","exitLon":"59.342989","exitLat":"18.045816"},{"exitName":"KarlbergsvÃ¤gen vid Swedbank","exitLon":"59.343131","exitLat":"18.049572"}]},{"stationName":"Rinkeby","stationCentLon":59.388763,"stationCentLat":17.928981,"stationID":"9322","stationExits":[{"exitName":"RinkebystrÃ¥ket","exitLon":"59.38875","exitLat":"17.92884"},{"exitName":"Rinkebytorget","exitLon":"59.38831","exitLat":"17.92825"}]},{"stationName":"Rissne","stationCentLon":59.375758,"stationCentLat":17.940267,"stationID":"9323","stationExits":[{"exitName":"Rissne","exitLon":"59.375649","exitLat":"17.939901"}]},{"stationName":"Ropsten","stationCentLon":59.356276,"stationCentLat":18.101075,"stationID":"9220","stationExits":[{"exitName":"Bussar","exitLon":"59.35741","exitLat":"18.10276"},{"exitName":"GasverksvÃ¤gen","exitLon":"59.35745","exitLat":"18.102304"},{"exitName":"Artemisgatan","exitLon":"59.35557","exitLat":"18.09972"},{"exitName":"JÃ¤gmÃ¤stargatan","exitLon":"59.35479","exitLat":"18.09809"}]},{"stationName":"RÃ¥cksta","stationCentLon":59.355357,"stationCentLat":17.882313,"stationID":"9104","stationExits":[{"exitName":"RÃ¥cksta","exitLon":"59.35527","exitLat":"17.88216"}]},{"stationName":"RÃ¥dhuset","stationCentLon":59.330094,"stationCentLat":18.043955,"stationID":"9309","stationExits":[{"exitName":"Landstingshuset","exitLon":"59.329917","exitLat":"18.041868"},{"exitName":"Pipersg./Kungsholmsg.","exitLon":"59.331165","exitLat":"18.045977"},{"exitName":"Hantverkargatan","exitLon":"59.328724","exitLat":"18.047276"},{"exitName":"Kungsklippan","exitLon":"59.330273","exitLat":"18.046814"},{"exitName":"Polishuset","exitLon":"59.330355","exitLat":"18.041074"},{"exitName":"RÃ¥dhuset/Kungsholmsv.","exitLon":"59.33036","exitLat":"18.042094"}]},{"stationName":"RÃ¥dmansgatan","stationCentLon":59.341333,"stationCentLat":18.058738,"stationID":"9118","stationExits":[{"exitName":"SveavÃ¤gen/RÃ¥dmansgatan","exitLon":"59.340259","exitLat":"18.05926"},{"exitName":"SveavÃ¤gen/RÃ¥dmansgatan vid Jensens","exitLon":"59.340275","exitLat":"18.058788"},{"exitName":"Hiss till SveavÃ¤gen","exitLon":"59.340532","exitLat":"18.05853"},{"exitName":"HandelshÃ¶gskolan vid PressbyrÃ¥n","exitLon":"59.342152","exitLat":"18.056931"},{"exitName":"Rehnsgatan","exitLon":"59.342374","exitLat":"18.057346"}]},{"stationName":"RÃ¥gsved","stationCentLon":59.256768,"stationCentLat":18.028033,"stationID":"9161","stationExits":[{"exitName":"RÃ¥gsved","exitLon":"59.25661","exitLat":"18.02769"}]},{"stationName":"Sandsborg","stationCentLon":59.284826,"stationCentLat":18.092534,"stationID":"9186","stationExits":[{"exitName":"Sandsborg","exitLon":"59.28481","exitLat":"18.09216"}]},{"stationName":"Sankt Eriksplan","stationCentLon":59.340851,"stationCentLat":18.037646,"stationID":"9116","stationExits":[{"exitName":"Sankt Eriksgatan","exitLon":"59.341703","exitLat":"18.037748"},{"exitName":"RÃ¶rstrandsgatan","exitLon":"59.339777","exitLat":"18.036418"},{"exitName":"Sankt Eriksg./Odeng.","exitLon":"59.339602","exitLat":"18.037233"},{"exitName":"GÃ¥ngtunnel","exitLon":"59.339340","exitLat":"18.037273"}]},{"stationName":"Skanstull","stationCentLon":59.308842,"stationCentLat":18.075969,"stationID":"9190","stationExits":[{"exitName":"Allhelgonagatan","exitLon":"59.309853","exitLat":"18.075149"},{"exitName":"RingvÃ¤gen/GÃ¶tgatan","exitLon":"59.308024","exitLat":"18.076608"},{"exitName":"RingvÃ¤gen","exitLon":"59.307844","exitLat":"18.075739"},{"exitName":"RingvÃ¤gen vid Forex","exitLon":"59.307504","exitLat":"18.0759"},{"exitName":"Hiss till GÃ¶tgatan","exitLon":"59.308008","exitLat":"18.0762"}]},{"stationName":"SkarpnÃ¤ck","stationCentLon":59.266354,"stationCentLat":18.133282,"stationID":"9140","stationExits":[{"exitName":"SkarpnÃ¤ck","exitLon":"59.266275","exitLat":"18.132849"}]},{"stationName":"SkogskyrkogÃ¥rden","stationCentLon":59.279138,"stationCentLat":18.095453,"stationID":"9185","stationExits":[{"exitName":"SkogskyrkogÃ¥rden","exitLon":"59.279213","exitLat":"18.095255"}]},{"stationName":"SkÃ¤rholmen","stationCentLon":59.276825,"stationCentLat":17.907912,"stationID":"9287","stationExits":[{"exitName":"SkÃ¤rholmstorget","exitLon":"59.2767","exitLat":"17.90629"},{"exitName":"SkÃ¤rholmsplan","exitLon":"59.27678","exitLat":"17.90867"}]},{"stationName":"SkÃ¤rmarbrink","stationCentLon":59.2955,"stationCentLat":18.090474,"stationID":"9188","stationExits":[{"exitName":"SkÃ¤rmarbrink","exitLon":"59.29534","exitLat":"18.09049"}]},{"stationName":"Slussen","stationCentLon":59.319366,"stationCentLat":18.072943,"stationID":"9192","stationExits":[{"exitName":"GÃ¶tgatan","exitLon":"59.318165","exitLat":"18.071415"},{"exitName":"SÃ¶dermalmstorg","exitLon":"59.319659","exitLat":"18.072263"},{"exitName":"Slussenterminalen","exitLon":"59.320152","exitLat":"18.072134"}]},{"stationName":"Sockenplan","stationCentLon":59.283522,"stationCentLat":18.070733,"stationID":"9166","stationExits":[{"exitName":"Sockenplan","exitLon":"59.283427","exitLat":"18.070654"}]},{"stationName":"Solna Centrum","stationCentLon":59.360159,"stationCentLat":17.999237,"stationID":"9305","stationExits":[{"exitName":"Skytteholms IP Solnahallen","exitLon":"59.36089","exitLat":"17.99664"},{"exitName":"RÃ¥sunda Ã¶stra","exitLon":"59.36129","exitLat":"17.99782"},{"exitName":"Centrumslingan","exitLon":"59.36101","exitLat":"17.99845"},{"exitName":"Solna centrum","exitLon":"59.35857","exitLat":"17.99927"},{"exitName":"Buss 177","exitLon":"59.36125","exitLat":"17.99694"},{"exitName":"Fotbollstadion vÃ¤stra","exitLon":"59.36158","exitLat":"17.99623"}]},{"stationName":"Solna Strand (Vreten)","stationCentLon":59.354504,"stationCentLat":17.973359,"stationID":"9326","stationExits":[{"exitName":"Solna Strand","exitLon":"59.35451","exitLat":"17.97336"}]},{"stationName":"Stadion","stationCentLon":59.341465,"stationCentLat":18.081913,"stationID":"9205","stationExits":[{"exitName":"Grev Turegatan","exitLon":"59.342667","exitLat":"18.081316"},{"exitName":"MusikhÃ¶gskolan","exitLon":"59.343503","exitLat":"18.080928"},{"exitName":"ValhallavÃ¤gen","exitLon":"59.342864","exitLat":"18.082017"},{"exitName":"KarlavÃ¤gen/Nybrogatan","exitLon":"59.339798","exitLat":"18.081330"}]},{"stationName":"Stadshagen","stationCentLon":59.337339,"stationCentLat":18.016853,"stationID":"9307","stationExits":[{"exitName":"S:t GÃ¶rans sjukhus","exitLon":"59.33623","exitLat":"18.01841"},{"exitName":"MariedalsvÃ¤gen/Hornsberg","exitLon":"59.33833","exitLat":"18.01409"},{"exitName":"Kellgrensgatan","exitLon":"59.33686","exitLat":"18.01671"},{"exitName":"Stadshagens idrottsplats","exitLon":"59.33675","exitLat":"18.01779"}]},{"stationName":"Stora Mossen","stationCentLon":59.334384,"stationCentLat":17.967007,"stationID":"9111","stationExits":[{"exitName":"Stora Mossen","exitLon":"59.3343","exitLat":"17.96672"}]},{"stationName":"Stureby","stationCentLon":59.274862,"stationCentLat":18.055413,"stationID":"9164","stationExits":[{"exitName":"Stureby","exitLon":"59.2747","exitLat":"18.05523"}]},{"stationName":"Sundbybergs Centrum","stationCentLon":59.362127,"stationCentLat":17.971642,"stationID":"9325","stationExits":[{"exitName":"LandsvÃ¤gen/PendeltÃ¥g","exitLon":"59.360748","exitLat":"17.9709"},{"exitName":"LysvÃ¤gen","exitLon":"59.360748","exitLat":"17.9709"},{"exitName":"Stationsgatan","exitLon":"59.363126","exitLat":"17.970453"},{"exitName":"JÃ¤rnvÃ¤gsgatan","exitLon":"59.360936","exitLat":"17.972566"}]},{"stationName":"Svedmyra","stationCentLon":59.277636,"stationCentLat":18.067686,"stationID":"9165","stationExits":[{"exitName":"Svedmyra","exitLon":"59.27742","exitLat":"18.0674"}]},{"stationName":"SÃ¤tra","stationCentLon":59.28498,"stationCentLat":17.921624,"stationID":"174","stationExits":[{"exitName":"SÃ¤tra","exitLon":"59.285545","exitLat":"17.920396"},{"exitName":"SÃ¤tra Torg","exitLon":"59.284952","exitLat":"17.922394"}]},{"stationName":"T-Centralen","stationID":"9001","stationExits":[{"exitName":"Drottningg. vid Ã…hlÃ©ns","exitLon":"59.3324791","exitLat":"18.0624992"},{"exitName":"Sergels Torg/Drottning.","exitLon":"59.332201","exitLat":"18.063242"},{"exitName":"Sergels Torg","exitLon":"59.332280","exitLat":"18.063527"},{"exitName":"Klara kyrka","exitLon":"59.330933","exitLat":"18.060536"},{"exitName":"Vasagatan 22","exitLon":"59.330669","exitLat":"18.059553"},{"exitName":"Centralplan","exitLon":"59.330344","exitLat":"18.059255"},{"exitName":"Hiss till Centralplan","exitLon":"59.330756","exitLat":"18.058954"}]},{"stationName":"Tallkrogen","stationCentLon":59.271354,"stationCentLat":18.08526,"stationID":"9184","stationExits":[{"exitName":"Tallkrogen","exitLon":"59.2712","exitLat":"18.08516"}]},{"stationName":"Tekniska HÃ¶gskolan","stationCentLon":59.34629,"stationCentLat":18.069532,"stationID":"9204","stationExits":[{"exitName":"Danderydsgatan","exitLon":"59.345078","exitLat":"18.07131"},{"exitName":"Tekniska hÃ¶gskolan","exitLon":"59.345962","exitLat":"18.071598"},{"exitName":"Bussar","exitLon":"59.34561","exitLat":"18.071697"},{"exitName":"KÃ¶rsbÃ¤rsvÃ¤gen","exitLon":"59.347292","exitLat":"18.066886"},{"exitName":"Odengatan","exitLon":"59.34663","exitLat":"18.065717"}]},{"stationName":"Tensta","stationCentLon":59.394269,"stationCentLat":17.902416,"stationID":"9321","stationExits":[{"exitName":"Tenstaplan","exitLon":"59.394832","exitLat":"17.899057"},{"exitName":"Tensta centrum","exitLon":"59.393958","exitLat":"17.904228"}]},{"stationName":"Thorildsplan","stationCentLon":59.331473,"stationCentLat":18.016424,"stationID":"9114","stationExits":[{"exitName":"Thorildsplan","exitLon":"59.33179","exitLat":"18.01599"},{"exitName":"LÃ¤rarhÃ¶gskolan","exitLon":"59.33112","exitLat":"18.01606"}]},{"stationName":"Universitetet","stationCentLon":59.365244,"stationCentLat":18.054919,"stationID":"9203","stationExits":[{"exitName":"Universitetet","exitLon":"59.36522","exitLat":"18.05492"}]},{"stationName":"VÃ¥rberg","stationCentLon":59.275827,"stationCentLat":17.889673,"stationID":"9286","stationExits":[{"exitName":"FjÃ¤rdholmsgrÃ¤nd","exitLon":"59.27596","exitLat":"17.88987"},{"exitName":"VÃ¥rberg centrum","exitLon":"59.27575","exitLat":"17.8893"}]},{"stationName":"VÃ¥rby GÃ¥rd","stationCentLon":59.264544,"stationCentLat":17.884459,"stationID":"9285","stationExits":[{"exitName":"VÃ¥rby gÃ¥rd","exitLon":"59.264521","exitLat":"17.884444"}]},{"stationName":"VÃ¤llingby","stationCentLon":59.36369,"stationCentLat":17.871585,"stationID":"9103","stationExits":[{"exitName":"VÃ¤llingbyplan","exitLon":"59.36308","exitLat":"17.87257"},{"exitName":"VÃ¤llingbyplan 13","exitLon":"59.363142","exitLat":"17.871657"},{"exitName":"Kirunaplan","exitLon":"59.363410","exitLat":"17.871785"},{"exitName":"VÃ¤llingbyplan 15","exitLon":"59.363534","exitLat":"17.872303"},{"exitName":"LyckselevÃ¤gen","exitLon":"59.3644","exitLat":"17.86962"}]},{"stationName":"VÃ¤stra Skogen","stationCentLon":59.347766,"stationCentLat":18.003764,"stationID":"9306","stationExits":[{"exitName":"VÃ¤stra skogen","exitLon":"59.34765","exitLat":"18.00349"}]},{"stationName":"Zinkensdamm","stationCentLon":59.317658,"stationCentLat":18.050263,"stationID":"9296","stationExits":[{"exitName":"Zinkensdamm","exitLon":"59.317716","exitLat":"18.05006"}]}];

function coordDistance(coordA, coordB) {
  var PI = 3.14;
  var R = 6371; // km
  var dLat = (coordB.lat-coordA.lat) * PI / 180;
  var dLon = (coordB.lon-coordA.lon) * PI / 180;
  var lat1 = cordA.lat * PI / 180;
  var lat2 = cordB.lat * PI / 180;

  var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
          Math.sin(dLon/2) * Math.sin(dLon/2) * Math.cos(lat1) * Math.cos(lat2); 
  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  var d = R * c;
  return d;
}
module.exports = {

  get: function(stationID, addressLat, addressLon) {
    //AppDispatcher.dispatch({actionType: "SEARCH_PLACES", state: "destroy"});
    var station = _.find(stations, function(item) { return item.stationID == stationID });

    var closestExit = "";
    var closestExitDistance = null;
    for(exit in station.stationExits) {
      var distance = coordDistance({
        lat: exit.exitLat,
        lon: exit.exitLon
      },
      {
        lat: addressLat,
        lon: addressLon
      });

      if(closestExitDistance == null || distance < closestExitDistance) {
        closestExit = exit;
        closestExitDistance = distance;
      }
    }

    console.log(closestExit);
    console.log(closestExitDistance);
  }
};